webpackHotUpdate("client",{

/***/ "./resources/js/client/tree-mirror.js":
/*!********************************************!*\
  !*** ./resources/js/client/tree-mirror.js ***!
  \********************************************/
/*! exports provided: TreeMirrorClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TreeMirrorClient\", function() { return TreeMirrorClient; });\n/* harmony import */ var core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.map */ \"./node_modules/core-js/modules/es6.array.map.js\");\n/* harmony import */ var core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.iterator */ \"./node_modules/core-js/modules/es6.array.iterator.js\");\n/* harmony import */ var core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.function.name */ \"./node_modules/core-js/modules/es6.function.name.js\");\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/keys */ \"./node_modules/@babel/runtime-corejs2/core-js/object/keys.js\");\n/* harmony import */ var _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ \"./node_modules/core-js/modules/web.dom.iterable.js\");\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.array.for-each */ \"./node_modules/core-js/modules/es6.array.for-each.js\");\n/* harmony import */ var core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _mutation_summary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mutation-summary */ \"./resources/js/client/mutation-summary.js\");\n\n\n\n\n\n\n\n\nvar TreeMirror = function () {\n  function TreeMirror(root, delegate) {\n    this.root = root;\n    this.delegate = delegate;\n    this.idMap = {};\n  }\n\n  TreeMirror.prototype.initialize = function (rootId, children) {\n    this.idMap[rootId] = this.root;\n\n    for (var i = 0; i < children.length; i++) {\n      this.deserializeNode(children[i], this.root);\n    }\n  };\n\n  TreeMirror.prototype.applyChanged = function (removed, addedOrMoved, attributes, text) {\n    var _this = this; // NOTE: Applying the changes can result in an attempting to add a child\n    // to a parent which is presently an ancestor of the parent. This can occur\n    // based on random ordering of moves. The way we handle this is to first\n    // remove all changed nodes from their parents, then apply.\n\n\n    addedOrMoved.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      var parent = _this.deserializeNode(data.parentNode);\n\n      var previous = _this.deserializeNode(data.previousSibling);\n\n      if (node.contains(parent) === false && node instanceof HTMLElement === true && parent instanceof HTMLElement === true && node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    });\n    removed.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      if (node.parentNode) node.parentNode.removeChild(node);\n    });\n    addedOrMoved.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      var parent = _this.deserializeNode(data.parentNode);\n\n      var previous = _this.deserializeNode(data.previousSibling);\n\n      try {\n        // The node might be a document element which has a parent reference\n        // to the last node in the idMap. In this case we will see the error\n        // above (see NOTE)\n        if (!node.contains(parent) && node instanceof HTMLElement === true && // 21.3.2017: In some cases the idMap reports that the parent of the element is for example\n        // html comment. In this case we obviously don't want to apply the move so we check\n        // here that it is\n        parent instanceof HTMLElement === true) {\n          parent.insertBefore(node, previous ? previous.nextSibling : parent.firstChild);\n        } // 21.3.2017: Handle <html> elements as special case in case we the tree is trying\n        // to remove it, we add back to root\n        else if (node instanceof HTMLElement && node.nodeName === \"HTML\" && _this.root instanceof HTMLDocument && _this.root.contains(node) === false) {\n            _this.root.appendChild(node);\n          }\n      } catch (e) {\n        // In some cases it seems that MutationSummary determines the parent\n        // of a node incorrectly. Example: <meta> element has parent #document\n        // and previousSibling is <html>. When this occurs we receive an error\n        // that says 'Only one element is allowed on #document'\n        // We probably want to append the node to the sibling\n        if (parent instanceof HTMLDocument && previous instanceof HTMLElement && parent.contains(previous)) {\n          if (previous.firstChild) previous.insertBefore(node, previous.firstChild);else previous.appendChild(node);\n        } // Might still fail but we should call applyChanged inside try...catch\n        // anyway\n\n\n        if (_this.debug) {\n          console.log(e);\n        }\n      }\n    });\n    attributes.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(data.attributes).forEach(function (attrName) {\n        var newVal = data.attributes[attrName];\n\n        if (newVal === null) {\n          node.removeAttribute(attrName);\n        } else {\n          try {\n            if (!_this.delegate || !_this.delegate.setAttribute || !_this.delegate.setAttribute(node, attrName, newVal)) {\n              node.setAttribute(attrName, newVal);\n            }\n          } catch (e) {// Debug node.setAttribute here\n          }\n        }\n      });\n    });\n    text.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      node.textContent = data.textContent;\n    });\n    removed.forEach(function (node) {\n      delete _this.idMap[node.id];\n    });\n  };\n\n  TreeMirror.prototype.deserializeNode = function (nodeData, parent) {\n    var _this = this;\n\n    if (nodeData === null) return null;\n    var node = this.idMap[nodeData.id];\n    if (node) return node;\n    var doc = this.root.ownerDocument;\n    if (doc === null) doc = this.root;\n    console.info(nodeData.nodeType);\n\n    switch (nodeData.nodeType) {\n      case Node.COMMENT_NODE:\n        node = doc.createComment(nodeData.textContent);\n        break;\n\n      case Node.TEXT_NODE:\n        node = doc.createTextNode(nodeData.textContent);\n        break;\n\n      case Node.DOCUMENT_TYPE_NODE:\n        node = doc.implementation.createDocumentType(nodeData.name, nodeData.publicId, nodeData.systemId);\n        break;\n\n      case Node.ELEMENT_NODE:\n        if (this.delegate && this.delegate.createElement) node = this.delegate.createElement(nodeData.tagName);\n        if (!node) node = doc.createElement(nodeData.tagName);\n\n        _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(nodeData.attributes).forEach(function (name) {\n          try {\n            if (!_this.delegate || !_this.delegate.setAttribute || !_this.delegate.setAttribute(node, name, nodeData.attributes[name])) {\n              node.setAttribute(name, nodeData.attributes[name]);\n            }\n          } catch (e) {// Debug here if needed\n          }\n        });\n\n        break;\n    }\n\n    if (!node) throw \"ouch\";\n    this.idMap[nodeData.id] = node;\n    if (parent) parent.appendChild(node);\n\n    if (nodeData.childNodes) {\n      for (var i = 0; i < nodeData.childNodes.length; i++) {\n        this.deserializeNode(nodeData.childNodes[i], node);\n      }\n    }\n\n    return node;\n  };\n\n  return TreeMirror;\n}();\n\nvar TreeMirrorClient = function () {\n  function TreeMirrorClient(target, mirror, testingQueries) {\n    var _this = this;\n\n    this.target = target;\n    this.mirror = mirror;\n    this.nextId = 1;\n    this.knownNodes = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n\n    if (typeof this.mirror == \"undefined\") {\n      this.mirror = _this.getDefaultMirror();\n    }\n\n    var rootId = this.serializeNode(target).id;\n    var children = [];\n\n    for (var child = target.firstChild; child; child = child.nextSibling) {\n      children.push(this.serializeNode(child, true));\n    }\n\n    this.mirror.initialize(rootId, children);\n    var self = this;\n    var queries = [{\n      all: true\n    }];\n    if (testingQueries) queries = queries.concat(testingQueries);\n    var MutationObserverCtor;\n\n    try {\n      if (typeof WebKitMutationObserver !== 'undefined') MutationObserverCtor = WebKitMutationObserver;else MutationObserverCtor = MutationObserver;\n    } catch (e) {\n      MutationObserverCtor = undefined;\n    }\n\n    ;\n\n    if (MutationObserverCtor !== undefined) {\n      this.mutationSummary = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"]({\n        rootNode: target,\n        callback: function callback(summaries) {\n          _this.applyChanged(summaries);\n        },\n        queries: queries\n      });\n    }\n  }\n\n  TreeMirrorClient.prototype.getDefaultMirror = function () {\n    return {\n      initialize: function initialize(rootId, children) {\n        return;\n      },\n      applyChanged: function applyChanged(removed, addedOrMoved, attributes, text) {\n        return;\n      }\n    };\n  };\n\n  TreeMirrorClient.prototype.disconnect = function () {\n    if (this.mutationSummary) {\n      this.mutationSummary.disconnect();\n      this.mutationSummary = undefined;\n    }\n  };\n\n  TreeMirrorClient.prototype.rememberNode = function (node) {\n    var id = this.nextId++;\n    this.knownNodes.set(node, id);\n    return id;\n  };\n\n  TreeMirrorClient.prototype.forgetNode = function (node) {\n    this.knownNodes.delete(node);\n  };\n\n  TreeMirrorClient.prototype.serializeNode = function (node, recursive) {\n    if (node === null) return null;\n    var id = this.knownNodes.get(node);\n\n    if (id !== undefined) {\n      return {\n        id: id\n      };\n    }\n\n    var data = {\n      nodeType: node.nodeType,\n      id: this.rememberNode(node)\n    };\n\n    switch (data.nodeType) {\n      case Node.DOCUMENT_TYPE_NODE:\n        var docType = node;\n        data.name = docType.name;\n        data.publicId = docType.publicId;\n        data.systemId = docType.systemId;\n        break;\n\n      case Node.COMMENT_NODE:\n      case Node.TEXT_NODE:\n        data.textContent = node.textContent;\n        break;\n\n      case Node.ELEMENT_NODE:\n        var elm = node;\n        data.tagName = elm.tagName;\n        data.attributes = {};\n\n        for (var i = 0; i < elm.attributes.length; i++) {\n          var attr = elm.attributes[i];\n          data.attributes[attr.name] = attr.value;\n        }\n\n        if (recursive && elm.childNodes.length) {\n          data.childNodes = [];\n\n          for (var child = elm.firstChild; child; child = child.nextSibling) {\n            data.childNodes.push(this.serializeNode(child, true));\n          }\n        }\n\n        break;\n    }\n\n    return data;\n  };\n\n  TreeMirrorClient.prototype.serializeAddedAndMoved = function (added, reparented, reordered) {\n    var _this = this;\n\n    var all = added.concat(reparented).concat(reordered);\n    var parentMap = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n    all.forEach(function (node) {\n      var parent = node.parentNode;\n      var children = parentMap.get(parent);\n\n      if (!children) {\n        children = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n        parentMap.set(parent, children);\n      }\n\n      children.set(node, true);\n    });\n    var moved = [];\n    parentMap.keys().forEach(function (parent) {\n      var children = parentMap.get(parent);\n      var keys = children.keys();\n\n      while (keys.length) {\n        var node = _keys[0];\n\n        while (node.previousSibling && children.has(node.previousSibling)) {\n          node = node.previousSibling;\n        }\n\n        while (node && children.has(node)) {\n          var data = _this.serializeNode(node);\n\n          data.previousSibling = _this.serializeNode(node.previousSibling);\n          data.parentNode = _this.serializeNode(node.parentNode);\n          moved.push(data);\n          children.delete(node);\n          node = node.nextSibling;\n        }\n\n        var _keys = children.keys();\n      }\n    });\n    return moved;\n  };\n\n  TreeMirrorClient.prototype.serializeAttributeChanges = function (attributeChanged) {\n    var _this = this;\n\n    var map = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n\n    _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(attributeChanged).forEach(function (attrName) {\n      attributeChanged[attrName].forEach(function (element) {\n        var record = map.get(element);\n\n        if (!record) {\n          record = _this.serializeNode(element);\n          record.attributes = {};\n          map.set(element, record);\n        }\n\n        record.attributes[attrName] = element.getAttribute(attrName);\n      });\n    });\n\n    return map.keys().map(function (node) {\n      return map.get(node);\n    });\n  };\n\n  TreeMirrorClient.prototype.applyChanged = function (summaries) {\n    var _this = this;\n\n    var summary = summaries[0];\n    var removed = summary.removed.map(function (node) {\n      return _this.serializeNode(node);\n    });\n    var moved = this.serializeAddedAndMoved(summary.added, summary.reparented, summary.reordered);\n    var attributes = this.serializeAttributeChanges(summary.attributeChanged);\n    var text = summary.characterDataChanged.map(function (node) {\n      var data = _this.serializeNode(node);\n\n      data.textContent = node.textContent;\n      return data;\n    });\n    this.mirror.applyChanged(removed, moved, attributes, text);\n    summary.removed.forEach(function (node) {\n      _this.forgetNode(node);\n    });\n  };\n\n  return TreeMirrorClient;\n}();\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY2xpZW50L3RyZWUtbWlycm9yLmpzPzQwMDQiXSwibmFtZXMiOlsiVHJlZU1pcnJvciIsInJvb3QiLCJkZWxlZ2F0ZSIsImlkTWFwIiwicHJvdG90eXBlIiwiaW5pdGlhbGl6ZSIsInJvb3RJZCIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImRlc2VyaWFsaXplTm9kZSIsImFwcGx5Q2hhbmdlZCIsInJlbW92ZWQiLCJhZGRlZE9yTW92ZWQiLCJhdHRyaWJ1dGVzIiwidGV4dCIsIl90aGlzIiwiZm9yRWFjaCIsImRhdGEiLCJub2RlIiwicGFyZW50IiwicGFyZW50Tm9kZSIsInByZXZpb3VzIiwicHJldmlvdXNTaWJsaW5nIiwiY29udGFpbnMiLCJIVE1MRWxlbWVudCIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJmaXJzdENoaWxkIiwibm9kZU5hbWUiLCJIVE1MRG9jdW1lbnQiLCJhcHBlbmRDaGlsZCIsImUiLCJkZWJ1ZyIsImNvbnNvbGUiLCJsb2ciLCJhdHRyTmFtZSIsIm5ld1ZhbCIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiaWQiLCJub2RlRGF0YSIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJpbmZvIiwibm9kZVR5cGUiLCJOb2RlIiwiQ09NTUVOVF9OT0RFIiwiY3JlYXRlQ29tbWVudCIsIlRFWFRfTk9ERSIsImNyZWF0ZVRleHROb2RlIiwiRE9DVU1FTlRfVFlQRV9OT0RFIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVEb2N1bWVudFR5cGUiLCJuYW1lIiwicHVibGljSWQiLCJzeXN0ZW1JZCIsIkVMRU1FTlRfTk9ERSIsImNyZWF0ZUVsZW1lbnQiLCJ0YWdOYW1lIiwiY2hpbGROb2RlcyIsIlRyZWVNaXJyb3JDbGllbnQiLCJ0YXJnZXQiLCJtaXJyb3IiLCJ0ZXN0aW5nUXVlcmllcyIsIm5leHRJZCIsImtub3duTm9kZXMiLCJNdXRhdGlvblN1bW1hcnkiLCJOb2RlTWFwIiwiZ2V0RGVmYXVsdE1pcnJvciIsInNlcmlhbGl6ZU5vZGUiLCJjaGlsZCIsInB1c2giLCJzZWxmIiwicXVlcmllcyIsImFsbCIsImNvbmNhdCIsIk11dGF0aW9uT2JzZXJ2ZXJDdG9yIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJ1bmRlZmluZWQiLCJtdXRhdGlvblN1bW1hcnkiLCJyb290Tm9kZSIsImNhbGxiYWNrIiwic3VtbWFyaWVzIiwiZGlzY29ubmVjdCIsInJlbWVtYmVyTm9kZSIsInNldCIsImZvcmdldE5vZGUiLCJkZWxldGUiLCJyZWN1cnNpdmUiLCJnZXQiLCJkb2NUeXBlIiwiZWxtIiwiYXR0ciIsInZhbHVlIiwic2VyaWFsaXplQWRkZWRBbmRNb3ZlZCIsImFkZGVkIiwicmVwYXJlbnRlZCIsInJlb3JkZXJlZCIsInBhcmVudE1hcCIsIm1vdmVkIiwia2V5cyIsImhhcyIsInNlcmlhbGl6ZUF0dHJpYnV0ZUNoYW5nZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkIiwibWFwIiwiZWxlbWVudCIsInJlY29yZCIsImdldEF0dHJpYnV0ZSIsInN1bW1hcnkiLCJjaGFyYWN0ZXJEYXRhQ2hhbmdlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsSUFBSUEsVUFBVSxHQUFJLFlBQVk7QUFDNUIsV0FBU0EsVUFBVCxDQUFvQkMsSUFBcEIsRUFBMEJDLFFBQTFCLEVBQW9DO0FBQ2xDLFNBQUtELElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtDLFFBQUwsR0FBZ0JBLFFBQWhCO0FBQ0EsU0FBS0MsS0FBTCxHQUFhLEVBQWI7QUFDRDs7QUFDREgsWUFBVSxDQUFDSSxTQUFYLENBQXFCQyxVQUFyQixHQUFrQyxVQUFVQyxNQUFWLEVBQWtCQyxRQUFsQixFQUE0QjtBQUM1RCxTQUFLSixLQUFMLENBQVdHLE1BQVgsSUFBcUIsS0FBS0wsSUFBMUI7O0FBRUEsU0FBSyxJQUFJTyxD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RFksT0FBTyxDQUFDWCxTQUF2RSxDQUFaO0FBRUEsUUFBSXZGLFVBQVUsR0FBRyxLQUFLNEYseUJBQUwsQ0FBK0JNLE9BQU8sQ0FBQ0wsZ0JBQXZDLENBQWpCO0FBRUEsUUFBSTVGLElBQUksR0FBR2lHLE9BQU8sQ0FBQ0Msb0JBQVIsQ0FBNkJMLEdBQTdCLENBQWlDLFVBQVV6RixJQUFWLEVBQWdCO0FBQzFELFVBQUlELElBQUksR0FBR0YsS0FBSyxDQUFDd0QsYUFBTixDQUFvQnJELElBQXBCLENBQVg7O0FBQ0FELFVBQUksQ0FBQ3VCLFdBQUwsR0FBbUJ0QixJQUFJLENBQUNzQixXQUF4QjtBQUNBLGFBQU92QixJQUFQO0FBQ0QsS0FKVSxDQUFYO0FBTUEsU0FBSytDLE1BQUwsQ0FBWXRELFlBQVosQ0FBeUJDLE9BQXpCLEVBQWtDMkYsS0FBbEMsRUFBeUN6RixVQUF6QyxFQUFxREMsSUFBckQ7QUFFQWlHLFdBQU8sQ0FBQ3BHLE9BQVIsQ0FBZ0JLLE9BQWhCLENBQXdCLFVBQVVFLElBQVYsRUFBZ0I7QUFDdENILFdBQUssQ0FBQzBFLFVBQU4sQ0FBaUJ2RSxJQUFqQjtBQUNELEtBRkQ7QUFHRCxHQXZCRDs7QUF3QkEsU0FBTzRDLGdCQUFQO0FBQ0QsQ0F4TnNCLEVBQXZCIiwiZmlsZSI6Ii4vcmVzb3VyY2VzL2pzL2NsaWVudC90cmVlLW1pcnJvci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE11dGF0aW9uU3VtbWFyeSB9IGZyb20gJy4vbXV0YXRpb24tc3VtbWFyeSc7XG5cbmxldCBUcmVlTWlycm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gVHJlZU1pcnJvcihyb290LCBkZWxlZ2F0ZSkge1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgdGhpcy5kZWxlZ2F0ZSA9IGRlbGVnYXRlO1xuICAgIHRoaXMuaWRNYXAgPSB7fTtcbiAgfVxuICBUcmVlTWlycm9yLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24gKHJvb3RJZCwgY2hpbGRyZW4pIHtcbiAgICB0aGlzLmlkTWFwW3Jvb3RJZF0gPSB0aGlzLnJvb3Q7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgdGhpcy5kZXNlcmlhbGl6ZU5vZGUoY2hpbGRyZW5baV0sIHRoaXMucm9vdCk7XG4gIH07XG5cbiAgVHJlZU1pcnJvci5wcm90b3R5cGUuYXBwbHlDaGFuZ2VkID0gZnVuY3Rpb24gKHJlbW92ZWQsIGFkZGVkT3JNb3ZlZCwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgLy8gTk9URTogQXBwbHlpbmcgdGhlIGNoYW5nZXMgY2FuIHJlc3VsdCBpbiBhbiBhdHRlbXB0aW5nIHRvIGFkZCBhIGNoaWxkXG4gICAgLy8gdG8gYSBwYXJlbnQgd2hpY2ggaXMgcHJlc2VudGx5IGFuIGFuY2VzdG9yIG9mIHRoZSBwYXJlbnQuIFRoaXMgY2FuIG9jY3VyXG4gICAgLy8gYmFzZWQgb24gcmFuZG9tIG9yZGVyaW5nIG9mIG1vdmVzLiBUaGUgd2F5IHdlIGhhbmRsZSB0aGlzIGlzIHRvIGZpcnN0XG4gICAgLy8gcmVtb3ZlIGFsbCBjaGFuZ2VkIG5vZGVzIGZyb20gdGhlaXIgcGFyZW50cywgdGhlbiBhcHBseS5cbiAgICBhZGRlZE9yTW92ZWQuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgbGV0IG5vZGUgPSBfdGhpcy5kZXNlcmlhbGl6ZU5vZGUoZGF0YSk7XG4gICAgICBsZXQgcGFyZW50ID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEucGFyZW50Tm9kZSk7XG4gICAgICBsZXQgcHJldmlvdXMgPSBfdGhpcy5kZXNlcmlhbGl6ZU5vZGUoZGF0YS5wcmV2aW91c1NpYmxpbmcpO1xuXG4gICAgICBpZiAobm9kZS5jb250YWlucyhwYXJlbnQpID09PSBmYWxzZSAmJlxuICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPT09IHRydWUgJiZcbiAgICAgICAgcGFyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPT09IHRydWUgJiZcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgbGV0IG5vZGUgPSBfdGhpcy5kZXNlcmlhbGl6ZU5vZGUoZGF0YSk7XG4gICAgICBpZiAobm9kZS5wYXJlbnROb2RlKVxuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfSk7XG5cbiAgICBhZGRlZE9yTW92ZWQuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgbGV0IG5vZGUgPSBfdGhpcy5kZXNlcmlhbGl6ZU5vZGUoZGF0YSk7XG4gICAgICBsZXQgcGFyZW50ID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEucGFyZW50Tm9kZSk7XG4gICAgICBsZXQgcHJldmlvdXMgPSBfdGhpcy5kZXNlcmlhbGl6ZU5vZGUoZGF0YS5wcmV2aW91c1NpYmxpbmcpO1xuXG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGUgbm9kZSBtaWdodCBiZSBhIGRvY3VtZW50IGVsZW1lbnQgd2hpY2ggaGFzIGEgcGFyZW50IHJlZmVyZW5jZVxuICAgICAgICAvLyB0byB0aGUgbGFzdCBub2RlIGluIHRoZSBpZE1hcC4gSW4gdGhpcyBjYXNlIHdlIHdpbGwgc2VlIHRoZSBlcnJvclxuICAgICAgICAvLyBhYm92ZSAoc2VlIE5PVEUpXG4gICAgICAgIGlmICghbm9kZS5jb250YWlucyhwYXJlbnQpICYmXG4gICAgICAgICAgKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA9PT0gdHJ1ZSkgJiZcbiAgICAgICAgICAvLyAyMS4zLjIwMTc6IEluIHNvbWUgY2FzZXMgdGhlIGlkTWFwIHJlcG9ydHMgdGhhdCB0aGUgcGFyZW50IG9mIHRoZSBlbGVtZW50IGlzIGZvciBleGFtcGxlXG4gICAgICAgICAgLy8gaHRtbCBjb21tZW50LiBJbiB0aGlzIGNhc2Ugd2Ugb2J2aW91c2x5IGRvbid0IHdhbnQgdG8gYXBwbHkgdGhlIG1vdmUgc28gd2UgY2hlY2tcbiAgICAgICAgICAvLyBoZXJlIHRoYXQgaXQgaXNcbiAgICAgICAgICAocGFyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPT09IHRydWUpXG4gICAgICAgICkge1xuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgcHJldmlvdXMgPyBwcmV2aW91cy5uZXh0U2libGluZyA6IHBhcmVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAyMS4zLjIwMTc6IEhhbmRsZSA8aHRtbD4gZWxlbWVudHMgYXMgc3BlY2lhbCBjYXNlIGluIGNhc2Ugd2UgdGhlIHRyZWUgaXMgdHJ5aW5nXG4gICAgICAgIC8vIHRvIHJlbW92ZSBpdCwgd2UgYWRkIGJhY2sgdG8gcm9vdFxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgICAgICAgICBub2RlLm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJlxuICAgICAgICAgIF90aGlzLnJvb3QgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQgJiZcbiAgICAgICAgICBfdGhpcy5yb290LmNvbnRhaW5zKG5vZGUpID09PSBmYWxzZVxuICAgICAgICApIHtcbiAgICAgICAgICBfdGhpcy5yb290LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaChlKSB7XG4gICAgICAgIC8vIEluIHNvbWUgY2FzZXMgaXQgc2VlbXMgdGhhdCBNdXRhdGlvblN1bW1hcnkgZGV0ZXJtaW5lcyB0aGUgcGFyZW50XG4gICAgICAgIC8vIG9mIGEgbm9kZSBpbmNvcnJlY3RseS4gRXhhbXBsZTogPG1ldGE+IGVsZW1lbnQgaGFzIHBhcmVudCAjZG9jdW1lbnRcbiAgICAgICAgLy8gYW5kIHByZXZpb3VzU2libGluZyBpcyA8aHRtbD4uIFdoZW4gdGhpcyBvY2N1cnMgd2UgcmVjZWl2ZSBhbiBlcnJvclxuICAgICAgICAvLyB0aGF0IHNheXMgJ09ubHkgb25lIGVsZW1lbnQgaXMgYWxsb3dlZCBvbiAjZG9jdW1lbnQnXG4gICAgICAgIC8vIFdlIHByb2JhYmx5IHdhbnQgdG8gYXBwZW5kIHRoZSBub2RlIHRvIHRoZSBzaWJsaW5nXG4gICAgICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBIVE1MRG9jdW1lbnQgJiZcbiAgICAgICAgICBwcmV2aW91cyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgcGFyZW50LmNvbnRhaW5zKHByZXZpb3VzKSkge1xuICAgICAgICAgIGlmIChwcmV2aW91cy5maXJzdENoaWxkKVxuICAgICAgICAgICAgcHJldmlvdXMuaW5zZXJ0QmVmb3JlKG5vZGUsIHByZXZpb3VzLmZpcnN0Q2hpbGQpXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJldmlvdXMuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNaWdodCBzdGlsbCBmYWlsIGJ1dCB3ZSBzaG91bGQgY2FsbCBhcHBseUNoYW5nZWQgaW5zaWRlIHRyeS4uLmNhdGNoXG4gICAgICAgIC8vIGFueXdheVxuICAgICAgICBpZiAoX3RoaXMuZGVidWcpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGxldCBub2RlID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEpO1xuICAgICAgT2JqZWN0LmtleXMoZGF0YS5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICBsZXQgbmV3VmFsID0gZGF0YS5hdHRyaWJ1dGVzW2F0dHJOYW1lXTtcbiAgICAgICAgaWYgKG5ld1ZhbCA9PT0gbnVsbCkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJOYW1lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCFfdGhpcy5kZWxlZ2F0ZSB8fCAhX3RoaXMuZGVsZWdhdGUuc2V0QXR0cmlidXRlIHx8ICFfdGhpcy5kZWxlZ2F0ZS5zZXRBdHRyaWJ1dGUobm9kZSwgYXR0ck5hbWUsIG5ld1ZhbCkpIHtcbiAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0ck5hbWUsIG5ld1ZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICAvLyBEZWJ1ZyBub2RlLnNldEF0dHJpYnV0ZSBoZXJlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRleHQuZm9yRWFjaChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgbGV0IG5vZGUgPSBfdGhpcy5kZXNlcmlhbGl6ZU5vZGUoZGF0YSk7XG4gICAgICBub2RlLnRleHRDb250ZW50ID0gZGF0YS50ZXh0Q29udGVudDtcbiAgICB9KTtcblxuICAgIHJlbW92ZWQuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgZGVsZXRlIF90aGlzLmlkTWFwW25vZGUuaWRdO1xuICAgIH0pO1xuICB9O1xuXG4gIFRyZWVNaXJyb3IucHJvdG90eXBlLmRlc2VyaWFsaXplTm9kZSA9IGZ1bmN0aW9uIChub2RlRGF0YSwgcGFyZW50KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBpZiAobm9kZURhdGEgPT09IG51bGwpXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIGxldCBub2RlID0gdGhpcy5pZE1hcFtub2RlRGF0YS5pZF07XG4gICAgaWYgKG5vZGUpXG4gICAgICByZXR1cm4gbm9kZTtcblxuICAgIGxldCBkb2MgPSB0aGlzLnJvb3Qub3duZXJEb2N1bWVudDtcbiAgICBpZiAoZG9jID09PSBudWxsKVxuICAgICAgZG9jID0gdGhpcy5yb290O1xuXG4gICAgY29uc29sZS5pbmZvKG5vZGVEYXRhLm5vZGVUeXBlKVxuICAgIHN3aXRjaCAobm9kZURhdGEubm9kZVR5cGUpIHtcbiAgICAgIGNhc2UgTm9kZS5DT01NRU5UX05PREU6XG4gICAgICAgIG5vZGUgPSBkb2MuY3JlYXRlQ29tbWVudChub2RlRGF0YS50ZXh0Q29udGVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE5vZGUuVEVYVF9OT0RFOlxuICAgICAgICBub2RlID0gZG9jLmNyZWF0ZVRleHROb2RlKG5vZGVEYXRhLnRleHRDb250ZW50KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTm9kZS5ET0NVTUVOVF9UWVBFX05PREU6XG4gICAgICAgIG5vZGUgPSBkb2MuaW1wbGVtZW50YXRpb24uY3JlYXRlRG9jdW1lbnRUeXBlKG5vZGVEYXRhLm5hbWUsIG5vZGVEYXRhLnB1YmxpY0lkLCBub2RlRGF0YS5zeXN0ZW1JZCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICBpZiAodGhpcy5kZWxlZ2F0ZSAmJiB0aGlzLmRlbGVnYXRlLmNyZWF0ZUVsZW1lbnQpXG4gICAgICAgICAgbm9kZSA9IHRoaXMuZGVsZWdhdGUuY3JlYXRlRWxlbWVudChub2RlRGF0YS50YWdOYW1lKTtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgIG5vZGUgPSBkb2MuY3JlYXRlRWxlbWVudChub2RlRGF0YS50YWdOYW1lKTtcblxuICAgICAgICBPYmplY3Qua2V5cyhub2RlRGF0YS5hdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZGVsZWdhdGUgfHwgIV90aGlzLmRlbGVnYXRlLnNldEF0dHJpYnV0ZSB8fCAhX3RoaXMuZGVsZWdhdGUuc2V0QXR0cmlidXRlKG5vZGUsIG5hbWUsIG5vZGVEYXRhLmF0dHJpYnV0ZXNbbmFtZV0pKSB7XG4gICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIG5vZGVEYXRhLmF0dHJpYnV0ZXNbbmFtZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIERlYnVnIGhlcmUgaWYgbmVlZGVkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoIW5vZGUpXG4gICAgICB0aHJvdyBcIm91Y2hcIjtcblxuICAgIHRoaXMuaWRNYXBbbm9kZURhdGEuaWRdID0gbm9kZTtcblxuICAgIGlmIChwYXJlbnQpXG4gICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG5cbiAgICBpZiAobm9kZURhdGEuY2hpbGROb2Rlcykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2RlRGF0YS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB0aGlzLmRlc2VyaWFsaXplTm9kZShub2RlRGF0YS5jaGlsZE5vZGVzW2ldLCBub2RlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgcmV0dXJuIFRyZWVNaXJyb3I7XG59KSgpO1xuXG5sZXQgVHJlZU1pcnJvckNsaWVudCA9IChmdW5jdGlvbiAoKSB7XG5cbiAgZnVuY3Rpb24gVHJlZU1pcnJvckNsaWVudCh0YXJnZXQsIG1pcnJvciwgdGVzdGluZ1F1ZXJpZXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIHRoaXMubWlycm9yID0gbWlycm9yO1xuICAgIHRoaXMubmV4dElkID0gMTtcbiAgICB0aGlzLmtub3duTm9kZXMgPSBuZXcgTXV0YXRpb25TdW1tYXJ5Lk5vZGVNYXAoKTtcblxuICAgIGlmICh0eXBlb2YgdGhpcy5taXJyb3IgPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgdGhpcy5taXJyb3IgPSBfdGhpcy5nZXREZWZhdWx0TWlycm9yKCk7XG4gICAgfVxuXG4gICAgbGV0IHJvb3RJZCA9IHRoaXMuc2VyaWFsaXplTm9kZSh0YXJnZXQpLmlkO1xuICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgIGZvciAobGV0IGNoaWxkID0gdGFyZ2V0LmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKVxuICAgICAgY2hpbGRyZW4ucHVzaCh0aGlzLnNlcmlhbGl6ZU5vZGUoY2hpbGQsIHRydWUpKTtcblxuICAgIHRoaXMubWlycm9yLmluaXRpYWxpemUocm9vdElkLCBjaGlsZHJlbik7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBsZXQgcXVlcmllcyA9IFt7IGFsbDogdHJ1ZSB9XTtcblxuICAgIGlmICh0ZXN0aW5nUXVlcmllcylcbiAgICAgIHF1ZXJpZXMgPSBxdWVyaWVzLmNvbmNhdCh0ZXN0aW5nUXVlcmllcyk7XG5cbiAgICBsZXQgTXV0YXRpb25PYnNlcnZlckN0b3I7XG5cbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiBXZWJLaXRNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgTXV0YXRpb25PYnNlcnZlckN0b3IgPSBXZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgICAgZWxzZVxuICAgICAgICBNdXRhdGlvbk9ic2VydmVyQ3RvciA9IE11dGF0aW9uT2JzZXJ2ZXI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgTXV0YXRpb25PYnNlcnZlckN0b3IgPSB1bmRlZmluZWQ7XG4gICAgfTtcblxuICAgIGlmIChNdXRhdGlvbk9ic2VydmVyQ3RvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLm11dGF0aW9uU3VtbWFyeSA9IG5ldyBNdXRhdGlvblN1bW1hcnkoe1xuICAgICAgICByb290Tm9kZTogdGFyZ2V0LFxuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKHN1bW1hcmllcykge1xuICAgICAgICAgIF90aGlzLmFwcGx5Q2hhbmdlZChzdW1tYXJpZXMpO1xuICAgICAgICB9LFxuICAgICAgICBxdWVyaWVzOiBxdWVyaWVzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBUcmVlTWlycm9yQ2xpZW50LnByb3RvdHlwZS5nZXREZWZhdWx0TWlycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHJvb3RJZCwgY2hpbGRyZW4pe1xuICAgICAgICByZXR1cm47XG4gICAgICB9LFxuICAgICAgYXBwbHlDaGFuZ2VkOiBmdW5jdGlvbihyZW1vdmVkLCBhZGRlZE9yTW92ZWQsIGF0dHJpYnV0ZXMsIHRleHQpe1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUuZGlzY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5tdXRhdGlvblN1bW1hcnkpIHtcbiAgICAgIHRoaXMubXV0YXRpb25TdW1tYXJ5LmRpc2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMubXV0YXRpb25TdW1tYXJ5ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICBUcmVlTWlycm9yQ2xpZW50LnByb3RvdHlwZS5yZW1lbWJlck5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGxldCBpZCA9IHRoaXMubmV4dElkKys7XG4gICAgdGhpcy5rbm93bk5vZGVzLnNldChub2RlLCBpZCk7XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIFRyZWVNaXJyb3JDbGllbnQucHJvdG90eXBlLmZvcmdldE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHRoaXMua25vd25Ob2Rlcy5kZWxldGUobm9kZSk7XG4gIH07XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUuc2VyaWFsaXplTm9kZSA9IGZ1bmN0aW9uIChub2RlLCByZWN1cnNpdmUpIHtcbiAgICBpZiAobm9kZSA9PT0gbnVsbClcbiAgICAgIHJldHVybiBudWxsO1xuXG4gICAgbGV0IGlkID0gdGhpcy5rbm93bk5vZGVzLmdldChub2RlKTtcbiAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHsgaWQ6IGlkIH07XG4gICAgfVxuXG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICBub2RlVHlwZTogbm9kZS5ub2RlVHlwZSxcbiAgICAgIGlkOiB0aGlzLnJlbWVtYmVyTm9kZShub2RlKVxuICAgIH07XG5cbiAgICBzd2l0Y2ggKGRhdGEubm9kZVR5cGUpIHtcbiAgICAgIGNhc2UgTm9kZS5ET0NVTUVOVF9UWVBFX05PREU6XG4gICAgICAgIGxldCBkb2NUeXBlID0gbm9kZTtcbiAgICAgICAgZGF0YS5uYW1lID0gZG9jVHlwZS5uYW1lO1xuICAgICAgICBkYXRhLnB1YmxpY0lkID0gZG9jVHlwZS5wdWJsaWNJZDtcbiAgICAgICAgZGF0YS5zeXN0ZW1JZCA9IGRvY1R5cGUuc3lzdGVtSWQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOlxuICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgZGF0YS50ZXh0Q29udGVudCA9IG5vZGUudGV4dENvbnRlbnQ7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE5vZGUuRUxFTUVOVF9OT0RFOlxuICAgICAgICBsZXQgZWxtID0gbm9kZTtcbiAgICAgICAgZGF0YS50YWdOYW1lID0gZWxtLnRhZ05hbWU7XG4gICAgICAgIGRhdGEuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsbS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGF0dHIgPSBlbG0uYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICBkYXRhLmF0dHJpYnV0ZXNbYXR0ci5uYW1lXSA9IGF0dHIudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVjdXJzaXZlICYmIGVsbS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgIGRhdGEuY2hpbGROb2RlcyA9IFtdO1xuXG4gICAgICAgICAgZm9yIChsZXQgY2hpbGQgPSBlbG0uZmlyc3RDaGlsZDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcpXG4gICAgICAgICAgICBkYXRhLmNoaWxkTm9kZXMucHVzaCh0aGlzLnNlcmlhbGl6ZU5vZGUoY2hpbGQsIHRydWUpKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfTtcblxuICBUcmVlTWlycm9yQ2xpZW50LnByb3RvdHlwZS5zZXJpYWxpemVBZGRlZEFuZE1vdmVkID0gZnVuY3Rpb24gKGFkZGVkLCByZXBhcmVudGVkLCByZW9yZGVyZWQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBhbGwgPSBhZGRlZC5jb25jYXQocmVwYXJlbnRlZCkuY29uY2F0KHJlb3JkZXJlZCk7XG5cbiAgICBsZXQgcGFyZW50TWFwID0gbmV3IE11dGF0aW9uU3VtbWFyeS5Ob2RlTWFwKCk7XG5cbiAgICBhbGwuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgbGV0IHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgIGxldCBjaGlsZHJlbiA9IHBhcmVudE1hcC5nZXQocGFyZW50KTtcbiAgICAgIGlmICghY2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBuZXcgTXV0YXRpb25TdW1tYXJ5Lk5vZGVNYXAoKTtcbiAgICAgICAgcGFyZW50TWFwLnNldChwYXJlbnQsIGNoaWxkcmVuKTtcbiAgICAgIH1cblxuICAgICAgY2hpbGRyZW4uc2V0KG5vZGUsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgbGV0IG1vdmVkID0gW107XG5cbiAgICBwYXJlbnRNYXAua2V5cygpLmZvckVhY2goZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgbGV0IGNoaWxkcmVuID0gcGFyZW50TWFwLmdldChwYXJlbnQpO1xuXG4gICAgICBsZXQga2V5cyA9IGNoaWxkcmVuLmtleXMoKTtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICBsZXQgbm9kZSA9IGtleXNbMF07XG4gICAgICAgIHdoaWxlIChub2RlLnByZXZpb3VzU2libGluZyAmJiBjaGlsZHJlbi5oYXMobm9kZS5wcmV2aW91c1NpYmxpbmcpKVxuICAgICAgICAgIG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZztcblxuICAgICAgICB3aGlsZSAobm9kZSAmJiBjaGlsZHJlbi5oYXMobm9kZSkpIHtcbiAgICAgICAgICBsZXQgZGF0YSA9IF90aGlzLnNlcmlhbGl6ZU5vZGUobm9kZSk7XG4gICAgICAgICAgZGF0YS5wcmV2aW91c1NpYmxpbmcgPSBfdGhpcy5zZXJpYWxpemVOb2RlKG5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICBkYXRhLnBhcmVudE5vZGUgPSBfdGhpcy5zZXJpYWxpemVOb2RlKG5vZGUucGFyZW50Tm9kZSk7XG4gICAgICAgICAgbW92ZWQucHVzaChkYXRhKTtcbiAgICAgICAgICBjaGlsZHJlbi5kZWxldGUobm9kZSk7XG4gICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5cyA9IGNoaWxkcmVuLmtleXMoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBtb3ZlZDtcbiAgfTtcblxuICBUcmVlTWlycm9yQ2xpZW50LnByb3RvdHlwZS5zZXJpYWxpemVBdHRyaWJ1dGVDaGFuZ2VzID0gZnVuY3Rpb24gKGF0dHJpYnV0ZUNoYW5nZWQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBtYXAgPSBuZXcgTXV0YXRpb25TdW1tYXJ5Lk5vZGVNYXAoKTtcblxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZUNoYW5nZWQpLmZvckVhY2goZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICBhdHRyaWJ1dGVDaGFuZ2VkW2F0dHJOYW1lXS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGxldCByZWNvcmQgPSBtYXAuZ2V0KGVsZW1lbnQpO1xuICAgICAgICBpZiAoIXJlY29yZCkge1xuICAgICAgICAgIHJlY29yZCA9IF90aGlzLnNlcmlhbGl6ZU5vZGUoZWxlbWVudCk7XG4gICAgICAgICAgcmVjb3JkLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICBtYXAuc2V0KGVsZW1lbnQsIHJlY29yZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvcmQuYXR0cmlidXRlc1thdHRyTmFtZV0gPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiBtYXAua2V5cygpLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG1hcC5nZXQobm9kZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUuYXBwbHlDaGFuZ2VkID0gZnVuY3Rpb24gKHN1bW1hcmllcykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHN1bW1hcnkgPSBzdW1tYXJpZXNbMF07XG5cbiAgICBsZXQgcmVtb3ZlZCA9IHN1bW1hcnkucmVtb3ZlZC5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zZXJpYWxpemVOb2RlKG5vZGUpO1xuICAgIH0pO1xuXG4gICAgbGV0IG1vdmVkID0gdGhpcy5zZXJpYWxpemVBZGRlZEFuZE1vdmVkKHN1bW1hcnkuYWRkZWQsIHN1bW1hcnkucmVwYXJlbnRlZCwgc3VtbWFyeS5yZW9yZGVyZWQpO1xuXG4gICAgbGV0IGF0dHJpYnV0ZXMgPSB0aGlzLnNlcmlhbGl6ZUF0dHJpYnV0ZUNoYW5nZXMoc3VtbWFyeS5hdHRyaWJ1dGVDaGFuZ2VkKTtcblxuICAgIGxldCB0ZXh0ID0gc3VtbWFyeS5jaGFyYWN0ZXJEYXRhQ2hhbmdlZC5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGxldCBkYXRhID0gX3RoaXMuc2VyaWFsaXplTm9kZShub2RlKTtcbiAgICAgIGRhdGEudGV4dENvbnRlbnQgPSBub2RlLnRleHRDb250ZW50O1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSk7XG5cbiAgICB0aGlzLm1pcnJvci5hcHBseUNoYW5nZWQocmVtb3ZlZCwgbW92ZWQsIGF0dHJpYnV0ZXMsIHRleHQpO1xuXG4gICAgc3VtbWFyeS5yZW1vdmVkLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIF90aGlzLmZvcmdldE5vZGUobm9kZSk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBUcmVlTWlycm9yQ2xpZW50O1xufSkoKTtcblxuZXhwb3J0IHtcbiAgVHJlZU1pcnJvckNsaWVudFxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/client/tree-mirror.js\n");

/***/ })

})