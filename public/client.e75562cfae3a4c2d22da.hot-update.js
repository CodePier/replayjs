webpackHotUpdate("client",{

/***/ "./resources/js/client/tree-mirror.js":
/*!********************************************!*\
  !*** ./resources/js/client/tree-mirror.js ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.map */ \"./node_modules/core-js/modules/es6.array.map.js\");\n/* harmony import */ var core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_map__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.iterator */ \"./node_modules/core-js/modules/es6.array.iterator.js\");\n/* harmony import */ var core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.function.name */ \"./node_modules/core-js/modules/es6.function.name.js\");\n/* harmony import */ var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs2/core-js/object/keys */ \"./node_modules/@babel/runtime-corejs2/core-js/object/keys.js\");\n/* harmony import */ var _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ \"./node_modules/core-js/modules/web.dom.iterable.js\");\n/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.array.for-each */ \"./node_modules/core-js/modules/es6.array.for-each.js\");\n/* harmony import */ var core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_for_each__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _mutation_summary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mutation-summary */ \"./resources/js/client/mutation-summary.js\");\n\n\n\n\n\n\n\n\nvar TreeMirror = function () {\n  function TreeMirror(root, delegate) {\n    this.root = root;\n    this.delegate = delegate;\n    this.idMap = {};\n  }\n\n  TreeMirror.prototype.initialize = function (rootId, children) {\n    this.idMap[rootId] = this.root;\n\n    for (var i = 0; i < children.length; i++) {\n      this.deserializeNode(children[i], this.root);\n    }\n  };\n\n  TreeMirror.prototype.applyChanged = function (removed, addedOrMoved, attributes, text) {\n    var _this = this; // NOTE: Applying the changes can result in an attempting to add a child\n    // to a parent which is presently an ancestor of the parent. This can occur\n    // based on random ordering of moves. The way we handle this is to first\n    // remove all changed nodes from their parents, then apply.\n\n\n    addedOrMoved.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      var parent = _this.deserializeNode(data.parentNode);\n\n      var previous = _this.deserializeNode(data.previousSibling);\n\n      if (node.contains(parent) === false && node instanceof HTMLElement === true && parent instanceof HTMLElement === true && node.parentNode) {\n        node.parentNode.removeChild(node);\n      }\n    });\n    removed.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      if (node.parentNode) node.parentNode.removeChild(node);\n    });\n    addedOrMoved.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      var parent = _this.deserializeNode(data.parentNode);\n\n      var previous = _this.deserializeNode(data.previousSibling);\n\n      try {\n        // The node might be a document element which has a parent reference\n        // to the last node in the idMap. In this case we will see the error\n        // above (see NOTE)\n        if (!node.contains(parent) && node instanceof HTMLElement === true && // 21.3.2017: In some cases the idMap reports that the parent of the element is for example\n        // html comment. In this case we obviously don't want to apply the move so we check\n        // here that it is\n        parent instanceof HTMLElement === true) {\n          parent.insertBefore(node, previous ? previous.nextSibling : parent.firstChild);\n        } // 21.3.2017: Handle <html> elements as special case in case we the tree is trying\n        // to remove it, we add back to root\n        else if (node instanceof HTMLElement && node.nodeName === \"HTML\" && _this.root instanceof HTMLDocument && _this.root.contains(node) === false) {\n            _this.root.appendChild(node);\n          }\n      } catch (e) {\n        // In some cases it seems that MutationSummary determines the parent\n        // of a node incorrectly. Example: <meta> element has parent #document\n        // and previousSibling is <html>. When this occurs we receive an error\n        // that says 'Only one element is allowed on #document'\n        // We probably want to append the node to the sibling\n        if (parent instanceof HTMLDocument && previous instanceof HTMLElement && parent.contains(previous)) {\n          if (previous.firstChild) previous.insertBefore(node, previous.firstChild);else previous.appendChild(node);\n        } // Might still fail but we should call applyChanged inside try...catch\n        // anyway\n\n\n        if (_this.debug) {\n          console.log(e);\n        }\n      }\n    });\n    attributes.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(data.attributes).forEach(function (attrName) {\n        var newVal = data.attributes[attrName];\n\n        if (newVal === null) {\n          node.removeAttribute(attrName);\n        } else {\n          try {\n            if (!_this.delegate || !_this.delegate.setAttribute || !_this.delegate.setAttribute(node, attrName, newVal)) {\n              node.setAttribute(attrName, newVal);\n            }\n          } catch (e) {// Debug node.setAttribute here\n          }\n        }\n      });\n    });\n    text.forEach(function (data) {\n      var node = _this.deserializeNode(data);\n\n      node.textContent = data.textContent;\n    });\n    removed.forEach(function (node) {\n      delete _this.idMap[node.id];\n    });\n  };\n\n  TreeMirror.prototype.deserializeNode = function (nodeData, parent) {\n    var _this = this;\n\n    if (nodeData === null) return null;\n    var node = this.idMap[nodeData.id];\n    if (node) return node;\n    var doc = this.root.ownerDocument;\n    if (doc === null) doc = this.root;\n    console.info(nodeData.nodeType);\n\n    switch (nodeData.nodeType) {\n      case Node.COMMENT_NODE:\n        node = doc.createComment(nodeData.textContent);\n        break;\n\n      case Node.TEXT_NODE:\n        node = doc.createTextNode(nodeData.textContent);\n        break;\n\n      case Node.DOCUMENT_TYPE_NODE:\n        node = doc.implementation.createDocumentType(nodeData.name, nodeData.publicId, nodeData.systemId);\n        break;\n\n      case Node.ELEMENT_NODE:\n        if (this.delegate && this.delegate.createElement) node = this.delegate.createElement(nodeData.tagName);\n        if (!node) node = doc.createElement(nodeData.tagName);\n\n        _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(nodeData.attributes).forEach(function (name) {\n          try {\n            if (!_this.delegate || !_this.delegate.setAttribute || !_this.delegate.setAttribute(node, name, nodeData.attributes[name])) {\n              node.setAttribute(name, nodeData.attributes[name]);\n            }\n          } catch (e) {// Debug here if needed\n          }\n        });\n\n        break;\n    }\n\n    if (!node) throw \"ouch\";\n    this.idMap[nodeData.id] = node;\n    if (parent) parent.appendChild(node);\n\n    if (nodeData.childNodes) {\n      for (var i = 0; i < nodeData.childNodes.length; i++) {\n        this.deserializeNode(nodeData.childNodes[i], node);\n      }\n    }\n\n    return node;\n  };\n\n  return TreeMirror;\n}();\n\nvar TreeMirrorClient = function () {\n  function TreeMirrorClient(target, mirror, testingQueries) {\n    var _this = this;\n\n    this.target = target;\n    this.mirror = mirror;\n    this.nextId = 1;\n    this.knownNodes = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n\n    if (typeof this.mirror == \"undefined\") {\n      this.mirror = _this.getDefaultMirror();\n    }\n\n    var rootId = this.serializeNode(target).id;\n    var children = [];\n\n    for (var child = target.firstChild; child; child = child.nextSibling) {\n      children.push(this.serializeNode(child, true));\n    }\n\n    this.mirror.initialize(rootId, children);\n    var self = this;\n    var queries = [{\n      all: true\n    }];\n    if (testingQueries) queries = queries.concat(testingQueries);\n    var MutationObserverCtor;\n\n    try {\n      if (typeof WebKitMutationObserver !== 'undefined') MutationObserverCtor = WebKitMutationObserver;else MutationObserverCtor = MutationObserver;\n    } catch (e) {\n      MutationObserverCtor = undefined;\n    }\n\n    ;\n\n    if (MutationObserverCtor !== undefined) {\n      this.mutationSummary = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"]({\n        rootNode: target,\n        callback: function callback(summaries) {\n          _this.applyChanged(summaries);\n        },\n        queries: queries\n      });\n    }\n  }\n\n  TreeMirrorClient.prototype.getDefaultMirror = function () {\n    return {\n      initialize: function initialize(rootId, children) {\n        return;\n      },\n      applyChanged: function applyChanged(removed, addedOrMoved, attributes, text) {\n        return;\n      }\n    };\n  };\n\n  TreeMirrorClient.prototype.disconnect = function () {\n    if (this.mutationSummary) {\n      this.mutationSummary.disconnect();\n      this.mutationSummary = undefined;\n    }\n  };\n\n  TreeMirrorClient.prototype.rememberNode = function (node) {\n    var id = this.nextId++;\n    this.knownNodes.set(node, id);\n    return id;\n  };\n\n  TreeMirrorClient.prototype.forgetNode = function (node) {\n    this.knownNodes.delete(node);\n  };\n\n  TreeMirrorClient.prototype.serializeNode = function (node, recursive) {\n    if (node === null) return null;\n    var id = this.knownNodes.get(node);\n\n    if (id !== undefined) {\n      return {\n        id: id\n      };\n    }\n\n    var data = {\n      nodeType: node.nodeType,\n      id: this.rememberNode(node)\n    };\n\n    switch (data.nodeType) {\n      case Node.DOCUMENT_TYPE_NODE:\n        var docType = node;\n        data.name = docType.name;\n        data.publicId = docType.publicId;\n        data.systemId = docType.systemId;\n        break;\n\n      case Node.COMMENT_NODE:\n      case Node.TEXT_NODE:\n        data.textContent = node.textContent;\n        break;\n\n      case Node.ELEMENT_NODE:\n        var elm = node;\n        data.tagName = elm.tagName;\n        data.attributes = {};\n\n        for (var i = 0; i < elm.attributes.length; i++) {\n          var attr = elm.attributes[i];\n          data.attributes[attr.name] = attr.value;\n        }\n\n        if (recursive && elm.childNodes.length) {\n          data.childNodes = [];\n\n          for (var child = elm.firstChild; child; child = child.nextSibling) {\n            data.childNodes.push(this.serializeNode(child, true));\n          }\n        }\n\n        break;\n    }\n\n    return data;\n  };\n\n  TreeMirrorClient.prototype.serializeAddedAndMoved = function (added, reparented, reordered) {\n    var _this = this;\n\n    var all = added.concat(reparented).concat(reordered);\n    var parentMap = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n    all.forEach(function (node) {\n      var parent = node.parentNode;\n      var children = parentMap.get(parent);\n\n      if (!children) {\n        children = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n        parentMap.set(parent, children);\n      }\n\n      children.set(node, true);\n    });\n    var moved = [];\n    parentMap.keys().forEach(function (parent) {\n      var children = parentMap.get(parent);\n      var keys = children.keys();\n\n      while (keys.length) {\n        var node = _keys[0];\n\n        while (node.previousSibling && children.has(node.previousSibling)) {\n          node = node.previousSibling;\n        }\n\n        while (node && children.has(node)) {\n          var data = _this.serializeNode(node);\n\n          data.previousSibling = _this.serializeNode(node.previousSibling);\n          data.parentNode = _this.serializeNode(node.parentNode);\n          moved.push(data);\n          children.delete(node);\n          node = node.nextSibling;\n        }\n\n        var _keys = children.keys();\n      }\n    });\n    return moved;\n  };\n\n  TreeMirrorClient.prototype.serializeAttributeChanges = function (attributeChanged) {\n    var _this = this;\n\n    var map = new _mutation_summary__WEBPACK_IMPORTED_MODULE_6__[\"MutationSummary\"].NodeMap();\n\n    _babel_runtime_corejs2_core_js_object_keys__WEBPACK_IMPORTED_MODULE_3___default()(attributeChanged).forEach(function (attrName) {\n      attributeChanged[attrName].forEach(function (element) {\n        var record = map.get(element);\n\n        if (!record) {\n          record = _this.serializeNode(element);\n          record.attributes = {};\n          map.set(element, record);\n        }\n\n        record.attributes[attrName] = element.getAttribute(attrName);\n      });\n    });\n\n    return map.keys().map(function (node) {\n      return map.get(node);\n    });\n  };\n\n  TreeMirrorClient.prototype.applyChanged = function (summaries) {\n    var _this = this;\n\n    var summary = summaries[0];\n    var removed = summary.removed.map(function (node) {\n      return _this.serializeNode(node);\n    });\n    var moved = this.serializeAddedAndMoved(summary.added, summary.reparented, summary.reordered);\n    var attributes = this.serializeAttributeChanges(summary.attributeChanged);\n    var text = summary.characterDataChanged.map(function (node) {\n      var data = _this.serializeNode(node);\n\n      data.textContent = node.textContent;\n      return data;\n    });\n    this.mirror.applyChanged(removed, moved, attributes, text);\n    summary.removed.forEach(function (node) {\n      _this.forgetNode(node);\n    });\n  };\n\n  return TreeMirrorClient;\n}();\n\nconsole.info(TreeMirrorClient);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY2xpZW50L3RyZWUtbWlycm9yLmpzPzQwMDQiXSwibmFtZXMiOlsiVHJlZU1pcnJvciIsInJvb3QiLCJkZWxlZ2F0ZSIsImlkTWFwIiwicHJvdG90eXBlIiwiaW5pdGlhbGl6ZSIsInJvb3RJZCIsImNoaWxkcmVuIiwiaSIsImxlbmd0aCIsImRlc2VyaWFsaXplTm9kZSIsImFwcGx5Q2hhbmdlZCIsInJlbW92ZWQiLCJhZGRlZE9yTW92ZWQiLCJhdHRyaWJ1dGVzIiwidGV4dCIsIl90aGlzIiwiZm9yRWFjaCIsImRhdGEiLCJub2RlIiwicGFyZW50IiwicGFyZW50Tm9kZSIsInByZXZpb3VzIiwicHJldmlvdXNTaWJsaW5nIiwiY29udGFpbnMiLCJIVE1MRWxlbWVudCIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwibmV4dFNpYmxpbmciLCJmaXJzdENoaWxkIiwibm9kZU5hbWUiLCJIVE1MRG9jdW1lbnQiLCJhcHBlbmRDaGlsZCIsImUiLCJkZWJ1ZyIsImNvbnNvbGUiLCJsb2ciLCJhdHRyTmFtZSIsIm5ld1ZhbCIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInRleHRDb250ZW50IiwiaWQiLCJub2RlRGF0YSIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJpbmZvIiwibm9kZVR5cGUiLCJOb2RlIiwiQ09NTUVOVF9OT0RFIiwiY3JlYXRlQ29tbWVudCIsIlRFWFRfTk9ERSIsImNyZWF0ZVRleHROb2RlIiwiRE9DVU1FTlRfVFlQRV9OT0RFIiwiaW1wbGVtZW50YXRpb24iLCJjcmVhdGVEb2N1bWVudFR5cGUiLCJuYW1lIiwicHVibGljSWQiLCJzeXN0ZW1JZCIsIkVMRU1FTlRfTk9ERSIsImNyZWF0ZUVsZW1lbnQiLCJ0YWdOYW1lIiwiY2hpbGROb2RlcyIsIlRyZWVNaXJyb3JDbGllbnQiLCJ0YXJnZXQiLCJtaXJyb3IiLCJ0ZXN0aW5nUXVlcmllcyIsIm5leHRJZCIsImtub3duTm9kZXMiLCJNdXRhdGlvblN1bW1hcnkiLCJOb2RlTWFwIiwiZ2V0RGVmYXVsdE1pcnJvciIsInNlcmlhbGl6ZU5vZGUiLCJjaGlsZCIsInB1c2giLCJzZWxmIiwicXVlcmllcyIsImFsbCIsImNvbmNhdCIsIk11dGF0aW9uT2JzZXJ2ZXJDdG9yIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJ1bmRlZmluZWQiLCJtdXRhdGlvblN1bW1hcnkiLCJyb290Tm9kZSIsImNhbGxiYWNrIiwic3VtbWFyaWVzIiwiZGlzY29ubmVjdCIsInJlbWVtYmVyTm9kZSIsInNldCIsImZvcmdldE5vZGUiLCJkZWxldGUiLCJyZWN1cnNpdmUiLCJnZXQiLCJkb2NUeXBlIiwiZWxtIiwiYXR0ciIsInZhbHVlIiwic2VyaWFsaXplQWRkZWRBbmRNb3ZlZCIsImFkZGVkIiwicmVwYXJlbnRlZCIsInJlb3JkZXJlZCIsInBhcmVudE1hcCIsIm1vdmVkIiwia2V5cyIsImhhcyIsInNlcmlhbGl6ZUF0dHJpYnV0ZUNoYW5nZXMiLCJhdHRyaWJ1dGVDaGFuZ2VkIiwibWFwIiwiZWxlbWVudCIsInJlY29yZCIsImdldEF0dHJpYnV0ZSIsInN1bW1hcnkiLCJjaGFyYWN0ZXJEYXRhQ2hhbmdlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxVQUFVLEdBQUksWUFBWTtBQUM1QixXQUFTQSxVQUFULENBQW9CQyxJQUFwQixFQUEwQkMsUUFBMUIsRUFBb0M7QUFDbEMsU0FBS0QsSUFBTCxHQUFZQSxJQUFaO0FBQ0EsU0FBS0MsUUFBTCxHQUFnQkEsUUFBaEI7QUFDQSxTQUFLQyxLQUFMLEdBQWEsRUFBYjtBQUNEOztBQUNESCxZQUFVLENBQUNJLFNBQVgsQ0FBcUJDLFVBQXJCLEdBQWtDLFVBQVVDLE1BQVYsRUFBa0JDLFFBQWxCLEVBQTRCO0FBQzVELFNBQUtKLEtBQUwsQ0FBV0csTUFBWCxJQUFxQixLQUFLTCxJQUExQjs7QUFFQSxTQUFLLElBQUlPLENB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WSxPQUFPLENBQUNYLFNBQXZFLENBQVo7QUFFQSxRQUFJdkYsVUFBVSxHQUFHLEtBQUs0Rix5QkFBTCxDQUErQk0sT0FBTyxDQUFDTCxnQkFBdkMsQ0FBakI7QUFFQSxRQUFJNUYsSUFBSSxHQUFHaUcsT0FBTyxDQUFDQyxvQkFBUixDQUE2QkwsR0FBN0IsQ0FBaUMsVUFBVXpGLElBQVYsRUFBZ0I7QUFDMUQsVUFBSUQsSUFBSSxHQUFHRixLQUFLLENBQUN3RCxhQUFOLENBQW9CckQsSUFBcEIsQ0FBWDs7QUFDQUQsVUFBSSxDQUFDdUIsV0FBTCxHQUFtQnRCLElBQUksQ0FBQ3NCLFdBQXhCO0FBQ0EsYUFBT3ZCLElBQVA7QUFDRCxLQUpVLENBQVg7QUFNQSxTQUFLK0MsTUFBTCxDQUFZdEQsWUFBWixDQUF5QkMsT0FBekIsRUFBa0MyRixLQUFsQyxFQUF5Q3pGLFVBQXpDLEVBQXFEQyxJQUFyRDtBQUVBaUcsV0FBTyxDQUFDcEcsT0FBUixDQUFnQkssT0FBaEIsQ0FBd0IsVUFBVUUsSUFBVixFQUFnQjtBQUN0Q0gsV0FBSyxDQUFDMEUsVUFBTixDQUFpQnZFLElBQWpCO0FBQ0QsS0FGRDtBQUdELEdBdkJEOztBQXdCQSxTQUFPNEMsZ0JBQVA7QUFDRCxDQXhOc0IsRUFBdkI7O0FBME5BNUIsT0FBTyxDQUFDVyxJQUFSLENBQWFpQixnQkFBYiIsImZpbGUiOiIuL3Jlc291cmNlcy9qcy9jbGllbnQvdHJlZS1taXJyb3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNdXRhdGlvblN1bW1hcnkgfSBmcm9tICcuL211dGF0aW9uLXN1bW1hcnknO1xuXG5sZXQgVHJlZU1pcnJvciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFRyZWVNaXJyb3Iocm9vdCwgZGVsZWdhdGUpIHtcbiAgICB0aGlzLnJvb3QgPSByb290O1xuICAgIHRoaXMuZGVsZWdhdGUgPSBkZWxlZ2F0ZTtcbiAgICB0aGlzLmlkTWFwID0ge307XG4gIH1cbiAgVHJlZU1pcnJvci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChyb290SWQsIGNoaWxkcmVuKSB7XG4gICAgdGhpcy5pZE1hcFtyb290SWRdID0gdGhpcy5yb290O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgIHRoaXMuZGVzZXJpYWxpemVOb2RlKGNoaWxkcmVuW2ldLCB0aGlzLnJvb3QpO1xuICB9O1xuXG4gIFRyZWVNaXJyb3IucHJvdG90eXBlLmFwcGx5Q2hhbmdlZCA9IGZ1bmN0aW9uIChyZW1vdmVkLCBhZGRlZE9yTW92ZWQsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIC8vIE5PVEU6IEFwcGx5aW5nIHRoZSBjaGFuZ2VzIGNhbiByZXN1bHQgaW4gYW4gYXR0ZW1wdGluZyB0byBhZGQgYSBjaGlsZFxuICAgIC8vIHRvIGEgcGFyZW50IHdoaWNoIGlzIHByZXNlbnRseSBhbiBhbmNlc3RvciBvZiB0aGUgcGFyZW50LiBUaGlzIGNhbiBvY2N1clxuICAgIC8vIGJhc2VkIG9uIHJhbmRvbSBvcmRlcmluZyBvZiBtb3Zlcy4gVGhlIHdheSB3ZSBoYW5kbGUgdGhpcyBpcyB0byBmaXJzdFxuICAgIC8vIHJlbW92ZSBhbGwgY2hhbmdlZCBub2RlcyBmcm9tIHRoZWlyIHBhcmVudHMsIHRoZW4gYXBwbHkuXG4gICAgYWRkZWRPck1vdmVkLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGxldCBub2RlID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEpO1xuICAgICAgbGV0IHBhcmVudCA9IF90aGlzLmRlc2VyaWFsaXplTm9kZShkYXRhLnBhcmVudE5vZGUpO1xuICAgICAgbGV0IHByZXZpb3VzID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEucHJldmlvdXNTaWJsaW5nKTtcblxuICAgICAgaWYgKG5vZGUuY29udGFpbnMocGFyZW50KSA9PT0gZmFsc2UgJiZcbiAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID09PSB0cnVlICYmXG4gICAgICAgIHBhcmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID09PSB0cnVlICYmXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZW1vdmVkLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGxldCBub2RlID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEpO1xuICAgICAgaWYgKG5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH0pO1xuXG4gICAgYWRkZWRPck1vdmVkLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGxldCBub2RlID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEpO1xuICAgICAgbGV0IHBhcmVudCA9IF90aGlzLmRlc2VyaWFsaXplTm9kZShkYXRhLnBhcmVudE5vZGUpO1xuICAgICAgbGV0IHByZXZpb3VzID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEucHJldmlvdXNTaWJsaW5nKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhlIG5vZGUgbWlnaHQgYmUgYSBkb2N1bWVudCBlbGVtZW50IHdoaWNoIGhhcyBhIHBhcmVudCByZWZlcmVuY2VcbiAgICAgICAgLy8gdG8gdGhlIGxhc3Qgbm9kZSBpbiB0aGUgaWRNYXAuIEluIHRoaXMgY2FzZSB3ZSB3aWxsIHNlZSB0aGUgZXJyb3JcbiAgICAgICAgLy8gYWJvdmUgKHNlZSBOT1RFKVxuICAgICAgICBpZiAoIW5vZGUuY29udGFpbnMocGFyZW50KSAmJlxuICAgICAgICAgIChub2RlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPT09IHRydWUpICYmXG4gICAgICAgICAgLy8gMjEuMy4yMDE3OiBJbiBzb21lIGNhc2VzIHRoZSBpZE1hcCByZXBvcnRzIHRoYXQgdGhlIHBhcmVudCBvZiB0aGUgZWxlbWVudCBpcyBmb3IgZXhhbXBsZVxuICAgICAgICAgIC8vIGh0bWwgY29tbWVudC4gSW4gdGhpcyBjYXNlIHdlIG9idmlvdXNseSBkb24ndCB3YW50IHRvIGFwcGx5IHRoZSBtb3ZlIHNvIHdlIGNoZWNrXG4gICAgICAgICAgLy8gaGVyZSB0aGF0IGl0IGlzXG4gICAgICAgICAgKHBhcmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID09PSB0cnVlKVxuICAgICAgICApIHtcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIHByZXZpb3VzID8gcHJldmlvdXMubmV4dFNpYmxpbmcgOiBwYXJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMjEuMy4yMDE3OiBIYW5kbGUgPGh0bWw+IGVsZW1lbnRzIGFzIHNwZWNpYWwgY2FzZSBpbiBjYXNlIHdlIHRoZSB0cmVlIGlzIHRyeWluZ1xuICAgICAgICAvLyB0byByZW1vdmUgaXQsIHdlIGFkZCBiYWNrIHRvIHJvb3RcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgbm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ICYmXG4gICAgICAgICAgbm9kZS5ub2RlTmFtZSA9PT0gXCJIVE1MXCIgJiZcbiAgICAgICAgICBfdGhpcy5yb290IGluc3RhbmNlb2YgSFRNTERvY3VtZW50ICYmXG4gICAgICAgICAgX3RoaXMucm9vdC5jb250YWlucyhub2RlKSA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgX3RoaXMucm9vdC5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2F0Y2goZSkge1xuICAgICAgICAvLyBJbiBzb21lIGNhc2VzIGl0IHNlZW1zIHRoYXQgTXV0YXRpb25TdW1tYXJ5IGRldGVybWluZXMgdGhlIHBhcmVudFxuICAgICAgICAvLyBvZiBhIG5vZGUgaW5jb3JyZWN0bHkuIEV4YW1wbGU6IDxtZXRhPiBlbGVtZW50IGhhcyBwYXJlbnQgI2RvY3VtZW50XG4gICAgICAgIC8vIGFuZCBwcmV2aW91c1NpYmxpbmcgaXMgPGh0bWw+LiBXaGVuIHRoaXMgb2NjdXJzIHdlIHJlY2VpdmUgYW4gZXJyb3JcbiAgICAgICAgLy8gdGhhdCBzYXlzICdPbmx5IG9uZSBlbGVtZW50IGlzIGFsbG93ZWQgb24gI2RvY3VtZW50J1xuICAgICAgICAvLyBXZSBwcm9iYWJseSB3YW50IHRvIGFwcGVuZCB0aGUgbm9kZSB0byB0aGUgc2libGluZ1xuICAgICAgICBpZiAocGFyZW50IGluc3RhbmNlb2YgSFRNTERvY3VtZW50ICYmXG4gICAgICAgICAgcHJldmlvdXMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCAmJlxuICAgICAgICAgIHBhcmVudC5jb250YWlucyhwcmV2aW91cykpIHtcbiAgICAgICAgICBpZiAocHJldmlvdXMuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIHByZXZpb3VzLmluc2VydEJlZm9yZShub2RlLCBwcmV2aW91cy5maXJzdENoaWxkKVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHByZXZpb3VzLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWlnaHQgc3RpbGwgZmFpbCBidXQgd2Ugc2hvdWxkIGNhbGwgYXBwbHlDaGFuZ2VkIGluc2lkZSB0cnkuLi5jYXRjaFxuICAgICAgICAvLyBhbnl3YXlcbiAgICAgICAgaWYgKF90aGlzLmRlYnVnKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coZSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBsZXQgbm9kZSA9IF90aGlzLmRlc2VyaWFsaXplTm9kZShkYXRhKTtcbiAgICAgIE9iamVjdC5rZXlzKGRhdGEuYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgbGV0IG5ld1ZhbCA9IGRhdGEuYXR0cmlidXRlc1thdHRyTmFtZV07XG4gICAgICAgIGlmIChuZXdWYWwgPT09IG51bGwpIHtcbiAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuZGVsZWdhdGUgfHwgIV90aGlzLmRlbGVnYXRlLnNldEF0dHJpYnV0ZSB8fCAhX3RoaXMuZGVsZWdhdGUuc2V0QXR0cmlidXRlKG5vZGUsIGF0dHJOYW1lLCBuZXdWYWwpKSB7XG4gICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJOYW1lLCBuZXdWYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICAgICAgLy8gRGVidWcgbm9kZS5zZXRBdHRyaWJ1dGUgaGVyZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0ZXh0LmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGxldCBub2RlID0gX3RoaXMuZGVzZXJpYWxpemVOb2RlKGRhdGEpO1xuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IGRhdGEudGV4dENvbnRlbnQ7XG4gICAgfSk7XG5cbiAgICByZW1vdmVkLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGRlbGV0ZSBfdGhpcy5pZE1hcFtub2RlLmlkXTtcbiAgICB9KTtcbiAgfTtcblxuICBUcmVlTWlycm9yLnByb3RvdHlwZS5kZXNlcmlhbGl6ZU5vZGUgPSBmdW5jdGlvbiAobm9kZURhdGEsIHBhcmVudCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKG5vZGVEYXRhID09PSBudWxsKVxuICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICBsZXQgbm9kZSA9IHRoaXMuaWRNYXBbbm9kZURhdGEuaWRdO1xuICAgIGlmIChub2RlKVxuICAgICAgcmV0dXJuIG5vZGU7XG5cbiAgICBsZXQgZG9jID0gdGhpcy5yb290Lm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKGRvYyA9PT0gbnVsbClcbiAgICAgIGRvYyA9IHRoaXMucm9vdDtcblxuICAgIGNvbnNvbGUuaW5mbyhub2RlRGF0YS5ub2RlVHlwZSlcbiAgICBzd2l0Y2ggKG5vZGVEYXRhLm5vZGVUeXBlKSB7XG4gICAgICBjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOlxuICAgICAgICBub2RlID0gZG9jLmNyZWF0ZUNvbW1lbnQobm9kZURhdGEudGV4dENvbnRlbnQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBOb2RlLlRFWFRfTk9ERTpcbiAgICAgICAgbm9kZSA9IGRvYy5jcmVhdGVUZXh0Tm9kZShub2RlRGF0YS50ZXh0Q29udGVudCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE5vZGUuRE9DVU1FTlRfVFlQRV9OT0RFOlxuICAgICAgICBub2RlID0gZG9jLmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50VHlwZShub2RlRGF0YS5uYW1lLCBub2RlRGF0YS5wdWJsaWNJZCwgbm9kZURhdGEuc3lzdGVtSWQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgaWYgKHRoaXMuZGVsZWdhdGUgJiYgdGhpcy5kZWxlZ2F0ZS5jcmVhdGVFbGVtZW50KVxuICAgICAgICAgIG5vZGUgPSB0aGlzLmRlbGVnYXRlLmNyZWF0ZUVsZW1lbnQobm9kZURhdGEudGFnTmFtZSk7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICBub2RlID0gZG9jLmNyZWF0ZUVsZW1lbnQobm9kZURhdGEudGFnTmFtZSk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMobm9kZURhdGEuYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmRlbGVnYXRlIHx8ICFfdGhpcy5kZWxlZ2F0ZS5zZXRBdHRyaWJ1dGUgfHwgIV90aGlzLmRlbGVnYXRlLnNldEF0dHJpYnV0ZShub2RlLCBuYW1lLCBub2RlRGF0YS5hdHRyaWJ1dGVzW25hbWVdKSkge1xuICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBub2RlRGF0YS5hdHRyaWJ1dGVzW25hbWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBEZWJ1ZyBoZXJlIGlmIG5lZWRlZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKCFub2RlKVxuICAgICAgdGhyb3cgXCJvdWNoXCI7XG5cbiAgICB0aGlzLmlkTWFwW25vZGVEYXRhLmlkXSA9IG5vZGU7XG5cbiAgICBpZiAocGFyZW50KVxuICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuXG4gICAgaWYgKG5vZGVEYXRhLmNoaWxkTm9kZXMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZURhdGEuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZU5vZGUobm9kZURhdGEuY2hpbGROb2Rlc1tpXSwgbm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG4gIHJldHVybiBUcmVlTWlycm9yO1xufSkoKTtcblxubGV0IFRyZWVNaXJyb3JDbGllbnQgPSAoZnVuY3Rpb24gKCkge1xuXG4gIGZ1bmN0aW9uIFRyZWVNaXJyb3JDbGllbnQodGFyZ2V0LCBtaXJyb3IsIHRlc3RpbmdRdWVyaWVzKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICB0aGlzLm1pcnJvciA9IG1pcnJvcjtcbiAgICB0aGlzLm5leHRJZCA9IDE7XG4gICAgdGhpcy5rbm93bk5vZGVzID0gbmV3IE11dGF0aW9uU3VtbWFyeS5Ob2RlTWFwKCk7XG5cbiAgICBpZiAodHlwZW9mIHRoaXMubWlycm9yID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMubWlycm9yID0gX3RoaXMuZ2V0RGVmYXVsdE1pcnJvcigpO1xuICAgIH1cblxuICAgIGxldCByb290SWQgPSB0aGlzLnNlcmlhbGl6ZU5vZGUodGFyZ2V0KS5pZDtcbiAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICBmb3IgKGxldCBjaGlsZCA9IHRhcmdldC5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZylcbiAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5zZXJpYWxpemVOb2RlKGNoaWxkLCB0cnVlKSk7XG5cbiAgICB0aGlzLm1pcnJvci5pbml0aWFsaXplKHJvb3RJZCwgY2hpbGRyZW4pO1xuXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgbGV0IHF1ZXJpZXMgPSBbeyBhbGw6IHRydWUgfV07XG5cbiAgICBpZiAodGVzdGluZ1F1ZXJpZXMpXG4gICAgICBxdWVyaWVzID0gcXVlcmllcy5jb25jYXQodGVzdGluZ1F1ZXJpZXMpO1xuXG4gICAgbGV0IE11dGF0aW9uT2JzZXJ2ZXJDdG9yO1xuXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2YgV2ViS2l0TXV0YXRpb25PYnNlcnZlciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIE11dGF0aW9uT2JzZXJ2ZXJDdG9yID0gV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcbiAgICAgIGVsc2VcbiAgICAgICAgTXV0YXRpb25PYnNlcnZlckN0b3IgPSBNdXRhdGlvbk9ic2VydmVyO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIE11dGF0aW9uT2JzZXJ2ZXJDdG9yID0gdW5kZWZpbmVkO1xuICAgIH07XG5cbiAgICBpZiAoTXV0YXRpb25PYnNlcnZlckN0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5tdXRhdGlvblN1bW1hcnkgPSBuZXcgTXV0YXRpb25TdW1tYXJ5KHtcbiAgICAgICAgcm9vdE5vZGU6IHRhcmdldCxcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChzdW1tYXJpZXMpIHtcbiAgICAgICAgICBfdGhpcy5hcHBseUNoYW5nZWQoc3VtbWFyaWVzKTtcbiAgICAgICAgfSxcbiAgICAgICAgcXVlcmllczogcXVlcmllc1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUuZ2V0RGVmYXVsdE1pcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0aWFsaXplOiBmdW5jdGlvbihyb290SWQsIGNoaWxkcmVuKXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSxcbiAgICAgIGFwcGx5Q2hhbmdlZDogZnVuY3Rpb24ocmVtb3ZlZCwgYWRkZWRPck1vdmVkLCBhdHRyaWJ1dGVzLCB0ZXh0KXtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIFRyZWVNaXJyb3JDbGllbnQucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMubXV0YXRpb25TdW1tYXJ5KSB7XG4gICAgICB0aGlzLm11dGF0aW9uU3VtbWFyeS5kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLm11dGF0aW9uU3VtbWFyeSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH07XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUucmVtZW1iZXJOb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICBsZXQgaWQgPSB0aGlzLm5leHRJZCsrO1xuICAgIHRoaXMua25vd25Ob2Rlcy5zZXQobm9kZSwgaWQpO1xuICAgIHJldHVybiBpZDtcbiAgfTtcblxuICBUcmVlTWlycm9yQ2xpZW50LnByb3RvdHlwZS5mb3JnZXROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB0aGlzLmtub3duTm9kZXMuZGVsZXRlKG5vZGUpO1xuICB9O1xuXG4gIFRyZWVNaXJyb3JDbGllbnQucHJvdG90eXBlLnNlcmlhbGl6ZU5vZGUgPSBmdW5jdGlvbiAobm9kZSwgcmVjdXJzaXZlKSB7XG4gICAgaWYgKG5vZGUgPT09IG51bGwpXG4gICAgICByZXR1cm4gbnVsbDtcblxuICAgIGxldCBpZCA9IHRoaXMua25vd25Ob2Rlcy5nZXQobm9kZSk7XG4gICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB7IGlkOiBpZCB9O1xuICAgIH1cblxuICAgIGxldCBkYXRhID0ge1xuICAgICAgbm9kZVR5cGU6IG5vZGUubm9kZVR5cGUsXG4gICAgICBpZDogdGhpcy5yZW1lbWJlck5vZGUobm9kZSlcbiAgICB9O1xuXG4gICAgc3dpdGNoIChkYXRhLm5vZGVUeXBlKSB7XG4gICAgICBjYXNlIE5vZGUuRE9DVU1FTlRfVFlQRV9OT0RFOlxuICAgICAgICBsZXQgZG9jVHlwZSA9IG5vZGU7XG4gICAgICAgIGRhdGEubmFtZSA9IGRvY1R5cGUubmFtZTtcbiAgICAgICAgZGF0YS5wdWJsaWNJZCA9IGRvY1R5cGUucHVibGljSWQ7XG4gICAgICAgIGRhdGEuc3lzdGVtSWQgPSBkb2NUeXBlLnN5c3RlbUlkO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBOb2RlLkNPTU1FTlRfTk9ERTpcbiAgICAgIGNhc2UgTm9kZS5URVhUX05PREU6XG4gICAgICAgIGRhdGEudGV4dENvbnRlbnQgPSBub2RlLnRleHRDb250ZW50O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBOb2RlLkVMRU1FTlRfTk9ERTpcbiAgICAgICAgbGV0IGVsbSA9IG5vZGU7XG4gICAgICAgIGRhdGEudGFnTmFtZSA9IGVsbS50YWdOYW1lO1xuICAgICAgICBkYXRhLmF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbG0uYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBhdHRyID0gZWxtLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgZGF0YS5hdHRyaWJ1dGVzW2F0dHIubmFtZV0gPSBhdHRyLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY3Vyc2l2ZSAmJiBlbG0uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICBkYXRhLmNoaWxkTm9kZXMgPSBbXTtcblxuICAgICAgICAgIGZvciAobGV0IGNoaWxkID0gZWxtLmZpcnN0Q2hpbGQ7IGNoaWxkOyBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nKVxuICAgICAgICAgICAgZGF0YS5jaGlsZE5vZGVzLnB1c2godGhpcy5zZXJpYWxpemVOb2RlKGNoaWxkLCB0cnVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUuc2VyaWFsaXplQWRkZWRBbmRNb3ZlZCA9IGZ1bmN0aW9uIChhZGRlZCwgcmVwYXJlbnRlZCwgcmVvcmRlcmVkKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgYWxsID0gYWRkZWQuY29uY2F0KHJlcGFyZW50ZWQpLmNvbmNhdChyZW9yZGVyZWQpO1xuXG4gICAgbGV0IHBhcmVudE1hcCA9IG5ldyBNdXRhdGlvblN1bW1hcnkuTm9kZU1hcCgpO1xuXG4gICAgYWxsLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICBsZXQgY2hpbGRyZW4gPSBwYXJlbnRNYXAuZ2V0KHBhcmVudCk7XG4gICAgICBpZiAoIWNoaWxkcmVuKSB7XG4gICAgICAgIGNoaWxkcmVuID0gbmV3IE11dGF0aW9uU3VtbWFyeS5Ob2RlTWFwKCk7XG4gICAgICAgIHBhcmVudE1hcC5zZXQocGFyZW50LCBjaGlsZHJlbik7XG4gICAgICB9XG5cbiAgICAgIGNoaWxkcmVuLnNldChub2RlLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIGxldCBtb3ZlZCA9IFtdO1xuXG4gICAgcGFyZW50TWFwLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IHBhcmVudE1hcC5nZXQocGFyZW50KTtcblxuICAgICAgbGV0IGtleXMgPSBjaGlsZHJlbi5rZXlzKCk7XG4gICAgICB3aGlsZSAoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgbGV0IG5vZGUgPSBrZXlzWzBdO1xuICAgICAgICB3aGlsZSAobm9kZS5wcmV2aW91c1NpYmxpbmcgJiYgY2hpbGRyZW4uaGFzKG5vZGUucHJldmlvdXNTaWJsaW5nKSlcbiAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG5cbiAgICAgICAgd2hpbGUgKG5vZGUgJiYgY2hpbGRyZW4uaGFzKG5vZGUpKSB7XG4gICAgICAgICAgbGV0IGRhdGEgPSBfdGhpcy5zZXJpYWxpemVOb2RlKG5vZGUpO1xuICAgICAgICAgIGRhdGEucHJldmlvdXNTaWJsaW5nID0gX3RoaXMuc2VyaWFsaXplTm9kZShub2RlLnByZXZpb3VzU2libGluZyk7XG4gICAgICAgICAgZGF0YS5wYXJlbnROb2RlID0gX3RoaXMuc2VyaWFsaXplTm9kZShub2RlLnBhcmVudE5vZGUpO1xuICAgICAgICAgIG1vdmVkLnB1c2goZGF0YSk7XG4gICAgICAgICAgY2hpbGRyZW4uZGVsZXRlKG5vZGUpO1xuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtleXMgPSBjaGlsZHJlbi5rZXlzKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW92ZWQ7XG4gIH07XG5cbiAgVHJlZU1pcnJvckNsaWVudC5wcm90b3R5cGUuc2VyaWFsaXplQXR0cmlidXRlQ2hhbmdlcyA9IGZ1bmN0aW9uIChhdHRyaWJ1dGVDaGFuZ2VkKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgbWFwID0gbmV3IE11dGF0aW9uU3VtbWFyeS5Ob2RlTWFwKCk7XG5cbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVDaGFuZ2VkKS5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgYXR0cmlidXRlQ2hhbmdlZFthdHRyTmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBsZXQgcmVjb3JkID0gbWFwLmdldChlbGVtZW50KTtcbiAgICAgICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgICAgICByZWNvcmQgPSBfdGhpcy5zZXJpYWxpemVOb2RlKGVsZW1lbnQpO1xuICAgICAgICAgIHJlY29yZC5hdHRyaWJ1dGVzID0ge307XG4gICAgICAgICAgbWFwLnNldChlbGVtZW50LCByZWNvcmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVjb3JkLmF0dHJpYnV0ZXNbYXR0ck5hbWVdID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0ck5hbWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbWFwLmtleXMoKS5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBtYXAuZ2V0KG5vZGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIFRyZWVNaXJyb3JDbGllbnQucHJvdG90eXBlLmFwcGx5Q2hhbmdlZCA9IGZ1bmN0aW9uIChzdW1tYXJpZXMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBzdW1tYXJ5ID0gc3VtbWFyaWVzWzBdO1xuXG4gICAgbGV0IHJlbW92ZWQgPSBzdW1tYXJ5LnJlbW92ZWQubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gX3RoaXMuc2VyaWFsaXplTm9kZShub2RlKTtcbiAgICB9KTtcblxuICAgIGxldCBtb3ZlZCA9IHRoaXMuc2VyaWFsaXplQWRkZWRBbmRNb3ZlZChzdW1tYXJ5LmFkZGVkLCBzdW1tYXJ5LnJlcGFyZW50ZWQsIHN1bW1hcnkucmVvcmRlcmVkKTtcblxuICAgIGxldCBhdHRyaWJ1dGVzID0gdGhpcy5zZXJpYWxpemVBdHRyaWJ1dGVDaGFuZ2VzKHN1bW1hcnkuYXR0cmlidXRlQ2hhbmdlZCk7XG5cbiAgICBsZXQgdGV4dCA9IHN1bW1hcnkuY2hhcmFjdGVyRGF0YUNoYW5nZWQubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBsZXQgZGF0YSA9IF90aGlzLnNlcmlhbGl6ZU5vZGUobm9kZSk7XG4gICAgICBkYXRhLnRleHRDb250ZW50ID0gbm9kZS50ZXh0Q29udGVudDtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0pO1xuXG4gICAgdGhpcy5taXJyb3IuYXBwbHlDaGFuZ2VkKHJlbW92ZWQsIG1vdmVkLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcblxuICAgIHN1bW1hcnkucmVtb3ZlZC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBfdGhpcy5mb3JnZXROb2RlKG5vZGUpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gVHJlZU1pcnJvckNsaWVudDtcbn0pKCk7XG5cbmNvbnNvbGUuaW5mbyhUcmVlTWlycm9yQ2xpZW50KSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./resources/js/client/tree-mirror.js\n");

/***/ })

})